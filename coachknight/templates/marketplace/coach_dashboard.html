{% extends 'base.html' %}

{% block title %}Coach Dashboard - CoachKnight{% endblock %}

{% block content %}
<section class="section" style="padding-top: 6rem;">
    <div class="container" style="max-width: 800px;">
        
        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem; margin-bottom: 2rem;">
            <div>
                <h1>Welcome, {{ coach_profile.display_name }}</h1>
                <p class="text-muted mb-0">Coach Dashboard</p>
            </div>
            <div>
                {% if coach_profile.status == 'new' %}
                    <span class="badge" style="background: #fef3c7; color: #92400e; padding: 0.5rem 1rem;">‚è≥ Pending Review</span>
                {% elif coach_profile.status == 'approved' %}
                    <span class="badge badge-success" style="padding: 0.5rem 1rem;">‚úì Approved</span>
                {% else %}
                    <span class="badge" style="background: #fee2e2; color: #991b1b; padding: 0.5rem 1rem;">Not Approved</span>
                {% endif %}
            </div>
        </div>
        
        {% if coach_profile.status == 'new' %}
        <div class="card mb-3" style="background: #fef3c7; border-color: #fcd34d;">
            <h3 style="color: #92400e;">‚è≥ Your profile is under review</h3>
            <p style="color: #92400e; margin-bottom: 0;">We typically review applications within 24-48 hours. You'll be notified once approved.</p>
        </div>
        {% elif coach_profile.status == 'approved' %}
        <div class="card mb-3" style="background: var(--success-bg); border-color: var(--success);">
            <h3 style="color: var(--success);">‚úì You're approved!</h3>
            <p style="color: var(--success); margin-bottom: 0;">Your profile is now visible to schools and programs. We'll reach out when we have matching opportunities.</p>
        </div>
        {% endif %}
        
        <div class="card mb-3">
            <h3>Your Profile</h3>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1rem;">
                <div>
                    <p class="text-muted mb-1" style="font-size: 0.875rem;">Name</p>
                    <p style="margin-bottom: 1rem;"><strong>{{ coach_profile.display_name }}</strong></p>
                </div>
                <div>
                    <p class="text-muted mb-1" style="font-size: 0.875rem;">Email</p>
                    <p style="margin-bottom: 1rem;"><strong>{{ coach_profile.email }}</strong></p>
                </div>
                <div>
                    <p class="text-muted mb-1" style="font-size: 0.875rem;">Location</p>
                    <p style="margin-bottom: 1rem;"><strong>{{ coach_profile.town }}{% if coach_profile.zip_code %} ({{ coach_profile.zip_code }}){% endif %}</strong></p>
                </div>
                <div>
                    <p class="text-muted mb-1" style="font-size: 0.875rem;">Travel Range</p>
                    <p style="margin-bottom: 1rem;"><strong>{{ coach_profile.max_travel_miles }} miles{% if coach_profile.has_car %} üöó{% endif %}</strong></p>
                </div>
                <div>
                    <p class="text-muted mb-1" style="font-size: 0.875rem;">Rating Level</p>
                    <p style="margin-bottom: 1rem;"><strong>{{ coach_profile.get_rating_range_display|default:"Not specified" }}</strong></p>
                </div>
                <div>
                    <p class="text-muted mb-1" style="font-size: 0.875rem;">Type</p>
                    <p style="margin-bottom: 1rem;"><strong>{{ coach_profile.get_grade_level_display }}</strong></p>
                </div>
            </div>
            
            {% if coach_profile.availability %}
            <div style="margin-top: 1rem;">
                <p class="text-muted mb-1" style="font-size: 0.875rem;">Availability</p>
                <div class="profile-badges">
                    {% for slot in coach_profile.availability.split %}
                        <span class="badge">{{ slot|cut:"_"|title }}</span>
                    {% endfor %}
                </div>
            </div>
            {% endif %}
            
            {% if coach_profile.chesscom_username or coach_profile.lichess_username %}
            <div style="margin-top: 1rem;">
                <p class="text-muted mb-1" style="font-size: 0.875rem;">Online Profiles</p>
                {% if coach_profile.chesscom_username %}
                    <a href="https://chess.com/member/{{ coach_profile.chesscom_username }}" target="_blank" class="badge badge-accent">Chess.com: {{ coach_profile.chesscom_username }}</a>
                {% endif %}
                {% if coach_profile.lichess_username %}
                    <a href="https://lichess.org/@/{{ coach_profile.lichess_username }}" target="_blank" class="badge badge-accent">Lichess: {{ coach_profile.lichess_username }}</a>
                {% endif %}
            </div>
            {% endif %}
        </div>
        
        <p class="text-muted" style="font-size: 0.875rem;">
            Need to update your info? Email <a href="mailto:hello@coachknight.com">hello@coachknight.com</a>
        </p>
        
    </div>
</section>
{% endblock %}
