{% extends "mini_insta/base.html" %}

{% block content %}
<h2>Results for “{{ query }}”</h2>

<h3>Posts</h3>
{% if posts %}
  <ul>
    {% for post in posts %}
      <li>
        <a href="{% url 'mini_insta:show_post' post.pk %}">
          {{ post.profile.display_name }} — {{ post.caption }}
        </a>
      </li>
    {% endfor %}
  </ul>
{% else %}
  <p>No matching posts.</p>
{% endif %}

<h3>Profiles</h3>
{% if profile_results %}
  <ul>
    {% for p in profile_results %}
      <li>
        <a href="{% url 'mini_insta:show_profile' p.pk %}">
          {{ p.display_name }} (@{{ p.username }})
        </a>
      </li>
    {% endfor %}
  </ul>
{% else %}
  <p>No matching profiles.</p>
{% endif %}

<p style="margin-top:1rem;">
  <a href="{% url 'mini_insta:search' %}">New search</a>
  {% if profile %} · <a href="{% url 'mini_insta:show_profile' profile.pk %}">Back to profile</a>{% endif %}
</p>
{% endblock %}
